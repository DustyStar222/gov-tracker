{"ast":null,"code":"import _objectSpread from\"/Users/jamieruby/gov-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{STATUS_OPTIONS}from'../App';// make sure STATUS_OPTIONS is exported from App.jsx\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminPanel(_ref){let{promises,onEdit,onDelete,onSave,editItem,onCancel}=_ref;const[form,setForm]=useState(editItem||{text:'',category:'',source:'',status:'Not Started',lastUpdated:new Date().toISOString().slice(0,10),updates:[]});const[newUpdate,setNewUpdate]=useState('');useEffect(()=>{if(editItem)setForm(editItem);},[editItem]);function handleSubmit(e){e.preventDefault();onSave(form);setForm({text:'',category:'',source:'',status:'Not Started',lastUpdated:new Date().toISOString().slice(0,10),updates:[]});setNewUpdate('');}function addUpdate(){if(newUpdate.trim()){setForm(_objectSpread(_objectSpread({},form),{},{updates:[...(form.updates||[]),{date:new Date().toISOString().slice(0,10),note:newUpdate}]}));setNewUpdate('');}}return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold mb-4\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.text,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{text:e.target.value})),placeholder:\"Promise text\",className:\"w-full p-2 border rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.category,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{category:e.target.value})),placeholder:\"Category\",className:\"w-full p-2 border rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{value:form.source,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{source:e.target.value})),placeholder:\"Source\",className:\"w-full p-2 border rounded\"}),/*#__PURE__*/_jsx(\"select\",{value:form.status,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{status:e.target.value})),className:\"w-full p-2 border rounded\",children:STATUS_OPTIONS.map(s=>/*#__PURE__*/_jsx(\"option\",{children:s},s))}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newUpdate,onChange:e=>setNewUpdate(e.target.value),placeholder:\"Add an update note...\",className:\"w-full p-2 border rounded\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addUpdate,className:\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\",children:\"Add Update\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 rounded bg-blue-600 text-white\",children:editItem?'Save Changes':'Add Promise'}),editItem&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"ml-2 text-sm underline\",children:\"Cancel Edit\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium mb-2\",children:\"Existing Promises\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 max-h-[60vh] overflow-auto\",children:promises.map(p=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex justify-between bg-gray-50 p-2 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:p.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-2 text-xs\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(p),className:\"text-blue-600\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(p.id),className:\"text-red-600\",children:\"Delete\"})]})]},p.id))})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","STATUS_OPTIONS","jsx","_jsx","jsxs","_jsxs","AdminPanel","_ref","promises","onEdit","onDelete","onSave","editItem","onCancel","form","setForm","text","category","source","status","lastUpdated","Date","toISOString","slice","updates","newUpdate","setNewUpdate","handleSubmit","e","preventDefault","addUpdate","trim","_objectSpread","date","note","className","children","onSubmit","value","onChange","target","placeholder","required","map","s","type","onClick","p","id"],"sources":["/Users/jamieruby/gov-tracker/src/components/AdminPanel.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { STATUS_OPTIONS } from '../App'; // make sure STATUS_OPTIONS is exported from App.jsx\n\nexport default function AdminPanel({ promises, onEdit, onDelete, onSave, editItem, onCancel }) {\n  const [form, setForm] = useState(editItem || { text: '', category: '', source: '', status: 'Not Started', lastUpdated: new Date().toISOString().slice(0,10), updates: [] });\n  const [newUpdate, setNewUpdate] = useState('');\n\n  useEffect(() => {\n    if (editItem) setForm(editItem);\n  }, [editItem]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSave(form);\n    setForm({ text: '', category: '', source: '', status: 'Not Started', lastUpdated: new Date().toISOString().slice(0,10), updates: [] });\n    setNewUpdate('');\n  }\n\n  function addUpdate() {\n    if(newUpdate.trim()) {\n      setForm({\n        ...form,\n        updates: [...(form.updates || []), { date: new Date().toISOString().slice(0,10), note: newUpdate }],\n      });\n      setNewUpdate('');\n    }\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg p-6 shadow-sm\">\n      <h2 className=\"text-lg font-semibold mb-4\">Admin Dashboard</h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-3\">\n          <input value={form.text} onChange={e=>setForm({...form, text:e.target.value})} placeholder=\"Promise text\" className=\"w-full p-2 border rounded\" required />\n          <input value={form.category} onChange={e=>setForm({...form, category:e.target.value})} placeholder=\"Category\" className=\"w-full p-2 border rounded\" required />\n          <input value={form.source} onChange={e=>setForm({...form, source:e.target.value})} placeholder=\"Source\" className=\"w-full p-2 border rounded\" />\n\n          <select value={form.status} onChange={e=>setForm({...form, status:e.target.value})} className=\"w-full p-2 border rounded\">\n            {STATUS_OPTIONS.map(s=>(<option key={s}>{s}</option>))}\n          </select>\n\n          {/* Add Updates */}\n          <div className=\"space-y-2\">\n            <textarea\n              value={newUpdate}\n              onChange={e=>setNewUpdate(e.target.value)}\n              placeholder=\"Add an update note...\"\n              className=\"w-full p-2 border rounded\"\n            />\n            <button type=\"button\" onClick={addUpdate} className=\"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300\">\n              Add Update\n            </button>\n          </div>\n\n          <button type=\"submit\" className=\"px-4 py-2 rounded bg-blue-600 text-white\">\n            {editItem ? 'Save Changes' : 'Add Promise'}\n          </button>\n          {editItem && <button type=\"button\" onClick={onCancel} className=\"ml-2 text-sm underline\">Cancel Edit</button>}\n        </form>\n\n        {/* Existing Promises */}\n        <div>\n          <h3 className=\"text-sm font-medium mb-2\">Existing Promises</h3>\n          <ul className=\"space-y-2 max-h-[60vh] overflow-auto\">\n            {promises.map(p => (\n              <li key={p.id} className=\"flex justify-between bg-gray-50 p-2 rounded\">\n                <div className=\"text-sm\">{p.text}</div>\n                <div className=\"space-x-2 text-xs\">\n                  <button onClick={()=>onEdit(p)} className=\"text-blue-600\">Edit</button>\n                  <button onClick={()=>onDelete(p.id)} className=\"text-red-600\">Delete</button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}